<div class="page-header">
  <h1>{{ 'Users' | translate }} <small>{{ 'Admin users and their attributes' | translate }}</small></h1>
</div>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>{{ 'Username' | translate }}</th>
      <th>{{ 'Admin' | translate }}?</th>
      <th>{{ 'Role' | translate }}</th>
      <th>{{ 'Email' | translate }}</th>
      <th>{{ 'First name' | translate }}</th>
      <th>{{ 'Last name' | translate }}</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let user of arrUsers" [class.success]="aarRoles[user.roleID]?.isAdmin">
      <td>{{ user.username }}</td>
      <td>
        <i *ngIf="aarRoles[user.roleID]?.isAdmin"  class="glyphicon glyphicon-ok text-success"></i>
        <i *ngIf="!aarRoles[user.roleID]?.isAdmin" class="glyphicon glyphicon-remove text-danger"></i>
      </td>
      <td *ngIf=" aarRoles[user.roleID]">{{ aarRoles[user.roleID].strName }}</td>
      <td *ngIf="!aarRoles[user.roleID]"><em>{{ 'undefined' | translate }}</em></td>
      <td>{{ user.email }}</td>
      <td>{{ user.firstName }}</td>
      <td>{{ user.lastName }}</td>
      <td class="right">
        <button class="btn btn-xs btn-primary" [routerLink]="['/users', user._id]"><i class="glyphicon glyphicon-pencil"></i></button>
        <button class="btn btn-xs btn-danger" (click)="doDeleteUser(user._id)"><i class="glyphicon glyphicon-trash"></i></button>
      </td>
    </tr>
  </tbody>
</table>

<div class="right">
  <button class="btn btn-primary" routerLink="/users/new">
    <i class="glyphicon glyphicon-plus"></i>
    <span>{{ 'Create new user' | translate }}</span>
  </button>
</div>
